window.addEventListener("load",function(g){function h(a,b,e){return a.addEventListener(b,e)}function t(a,b){b.forEach(function(b){a.addEventListener(b[0],b[1])})}function u(a,b,e){a.appendChild(b);setTimeout(function(){for(;a.firstChild&&a.firstChild!==b;)a.removeChild(a.firstChild)},e)}function p(a,b){if(a.complete)return b();h(a,"load",function(){return b()});h(a,"error",function(a){console.log("error",a)})}function v(a,b,e){var m;return function(){var d=this,c=arguments,f=e&&!m;clearTimeout(m);
m=setTimeout(function(){m=null;e||a.apply(d,c)},b);f&&a.apply(d,c)}}function k(a){a.style.height=a.firstElementChild.clientHeight-4+"px"}function c(a){var b=this;this.init(a);t(a,[["mouseover",this.hoverEvent.bind(this)],["mouseout",this.hoverEvent.bind(this)],["click",this.clickEvent.bind(this)]]);h(window,"resize",v(function(){return k(this.els.main)},500).bind(this));p(this.els.main.firstElementChild,function(){return setTimeout(function(){k(b.els.main)},300)});this.replay()}var r=g.querySelectorAll("[data-gallery-id]"),
w=r.length,x=[];c.prototype.init=function(a){this.timer=a.getAttribute("data-gallery-autoplay");this.els={thumbnails:a.getElementsByClassName("gallery-links")[0].children,lists:a.getElementsByClassName("gallery-list"),main:a.getElementsByClassName("gallery-focus")[0]};this.focus=0;this.setup={rwdLg:a.getAttribute("data-gallery-rwd-lg"),rwdMd:a.getAttribute("data-gallery-rwd-md"),loadWait:!1,hoverLock:!1,anim:a.getAttribute("data-gallery-anim")};1<this.els.thumbnails.length&&this.rwdLoadImg(this.els.thumbnails[1])};
c.prototype.clickEvent=function(a){var b=a.target.getAttribute("data-go"),e=this.nav();if(!this.setup.loadWait&&b)return this.setup.loadWait=!0,a.preventDefault(),isFinite(b)?e.img(b):e[b]()};c.prototype.hoverEvent=function(a){this.setup.hoverLock="mouseover"===a.type};c.prototype.nav=function(){var a=this,b=this.els.thumbnails.length;return{img:function(b){a.focus=parseInt(b,10);this.go()},prev:function(){a.focus=(b+a.focus-1)%b;this.go()},next:function(){a.focus=(a.focus+1)%b;this.go()},go:function(){var b=
a.els.lists,c=a.els.thumbnails[a.focus],d,q=b.length;for(d=0;d<q;d++){var f=b[d],g=a.focus;f.getElementsByClassName("active")[0].classList.remove("active");f.children[g].classList.add("active");if(b[d].classList.contains("gallery-thumbs")){var f=b[d],l=b[d].children[a.focus],g=f.scrollLeft,h=f.offsetWidth+g,k=l.offsetLeft,l=l.offsetWidth+k;g>k?f.scrollLeft=k:h<l&&(f.scrollLeft-=h-l)}}a.setImg(c.href,c.getAttribute("data-gallery-srcset"));a.focus<q&&a.rwdLoadImg(a.els.thumbnails[a.focus+1])}}};c.prototype.setImg=
function(a,b){var e=this,c=this.els.main,d=g.createElement("img"),h=e.setup.anim;c.classList.add("loading");d.src=a;d.setAttribute("srcset",b);e.zoomSet(a);p(d,function(){u(c,d,h);c.classList.remove("loading");setTimeout(function(){e.setup.loadWait=!1;k(c)},2*h)})};c.prototype.rwdLoadImg=function(a){var b=window.innerWidth,c=a.href;switch(!0){case b<this.setup.rwdMd:c=a.getAttribute("data-gallery-md");break;case b<this.setup.rwdLg:c=a.getAttribute("data-gallery-lg")}if(a=c)g.createElement("img").src=
a};c.prototype.zoomSet=function(a){var b=g.getElementsByClassName("btn-zoom");0<b.length&&(b[0].href=a)};c.prototype.replay=function(){var a=this;"false"!==a.timer&&setTimeout(function(){a.setup.loadWait||a.setup.hoverLock||a.nav().next();a.replay()},a.timer)};for(var n=0;n<w;n++)x.push(new c(r[n]))}(document));
